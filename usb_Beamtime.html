

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setting up your Beamtime &mdash; xpdAcq 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="xpdAcq 1.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> xpdAcq
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="beamlinestaff.html">Beamline Staff Only</a></li>
<li class="toctree-l1"><a class="reference internal" href="xpdusers.html">XPD Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">xpdAcq</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Setting up your Beamtime</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/usb_Beamtime.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="setting-up-your-beamtime">
<span id="usb-beamtime"></span><h1>Setting up your Beamtime<a class="headerlink" href="#setting-up-your-beamtime" title="Permalink to this headline">Â¶</a></h1>
<p>This should have been carried out by the beamline responsible.  To check all is ok,
carry out the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Check you are in the collection environment</li>
<li>Type <code class="docutils literal"><span class="pre">bt</span></code>.  It should return an <code class="docutils literal"><span class="pre">Beamtime</span></code> object.  If not, please contact your beamline responsible.</li>
</ol>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span>
<span class="go">&lt;xpdacq.beamtime.Beamtime at 0x4b112b0&gt;</span>
</pre></div>
</div>
<p>This object is like a container that contains some critical information about
your beamtime.  You can investigate what is inside.</p>
<p>To see the kinds of things that container contains, place a dot after bt and hit <cite>tab</cite>,
and all things it contains (but not their values) will be listed.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span>
<span class="go">bt.export    bt.list        bt.md     bt.type</span>
<span class="go">bt.get       bt.loadyamls   bt.name</span>
</pre></div>
</div>
<p>To see what those things contain, type <code class="docutils literal"><span class="pre">bt.thing</span></code> and hit return. For example, in our case:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;bt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;bt&#39;</span>
</pre></div>
</div>
<p>So this is a beamtime (<cite>&#8216;bt&#8217;</cite>) type of object with name <cite>&#8216;bt&#8217;</cite>.  More interesting
is the metadata it contains:</p>
<div class="highlight-python"><div class="highlight"><pre> <span class="o">&gt;&gt;&gt;</span> <span class="n">bt</span><span class="o">.</span><span class="n">md</span>
<span class="p">{</span><span class="s1">&#39;bt_experimenters&#39;</span><span class="p">:</span> <span class="p">{(</span><span class="s1">&#39;Chia-Hao&#39;</span><span class="p">,</span> <span class="s1">&#39;Liu&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Simon&#39;</span><span class="p">,</span> <span class="s1">&#39;Billinge&#39;</span><span class="p">)},</span>
<span class="s1">&#39;bt_piLast&#39;</span><span class="p">:</span> <span class="s1">&#39;Billinge&#39;</span><span class="p">,</span>
<span class="s1">&#39;bt_safN&#39;</span><span class="p">:</span> <span class="mi">300256</span><span class="p">,</span>
<span class="s1">&#39;bt_uid&#39;</span><span class="p">:</span> <span class="s1">&#39;9b0c5878-cba4-11e5-8984-28b2bd4521c0&#39;</span><span class="p">,</span>
<span class="s1">&#39;bt_wavelength&#39;</span><span class="p">:</span> <span class="mf">0.1818</span><span class="p">}</span>
</pre></div>
</div>
<p>The instrument responsible created an initial version of <code class="docutils literal"><span class="pre">bt</span></code> with information
from the Safety Approval Form (SAF) form: the PI last name, the SAF number
and the experimenters.</p>
<p>When the beamtime object was created it created its very own unique-ID, the <code class="docutils literal"><span class="pre">bt_uid</span></code>.
As long as you use the XPD acquisition software, every scan you make during your beamtime,
along with the other Beamtime level metadata,
will contain this <code class="docutils literal"><span class="pre">'bt_uid'</span></code> metadata field with the same uid value.
This can be searched for later in the scan headers and used to find all the data
collected during your beamtime, for example.</p>
<p>Some of the other things in the container are not quantities, or attributes, but
are functions, or <cite>methods</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">list</span>
<span class="go">&lt;bound method XPD.list of &lt;class &#39;xpdacq.beamtime.Beamtime&#39;&gt;&gt;</span>
</pre></div>
</div>
<p>This means that <code class="docutils literal"><span class="pre">bt</span></code> not only contains things, but it can do things.  In this
case <code class="docutils literal"><span class="pre">bt.list</span></code> will list all the xpd-acquire-objects that have been created at
the time.  To execute a method you have to add parentheses at the end of <code class="docutils literal"><span class="pre">bt.list()</span></code>
and hit return.  So far there is only 1 object, it is the <cite>bt</cite> object with name <cite>bt</cite>!</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">bt object bt has list index  0</span>
<span class="go">Use bt.get(index) to get the one you want</span>
</pre></div>
</div>
<p>Before we move on, one more thing.  As we mentioned before, if <code class="docutils literal"><span class="pre">bt</span></code> doesn&#8217;t exist,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span>
<span class="go">---------------------------------------------------------------------------</span>
<span class="go">NameError                                 Traceback (most recent call last)</span>
<span class="go">&lt;ipython-input-1-d0d7ab093f8d&gt; in &lt;module&gt;()</span>
<span class="go">----&gt; 1 bt</span>

<span class="go">NameError: name &#39;bt&#39; is not defined</span>
</pre></div>
</div>
<p>please go and talk to your instrument responsible as there may be other aspects of the
environment setup that need to be fixed, but if you ever do have to create
(we call it <cite>instantiate</cite>) a new <code class="docutils literal"><span class="pre">bt</span></code> object, it is done like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span> <span class="o">=</span> <span class="n">Beamtime</span><span class="p">(</span><span class="s1">&#39;Billinge&#39;</span><span class="p">,</span><span class="mi">300256</span><span class="p">,</span><span class="mf">0.1818</span><span class="p">,{(</span><span class="s1">&#39;Simon&#39;</span><span class="p">,</span><span class="s1">&#39;Billinge&#39;</span><span class="p">),(</span><span class="s1">&#39;Chia-Hao&#39;</span><span class="p">,</span><span class="s1">&#39;Liu&#39;</span><span class="p">)})</span>
</pre></div>
</div>
<p>We will assume that <code class="docutils literal"><span class="pre">bt</span></code> exists.  Now we move on to the next step, <a class="reference internal" href="usb_Experiment.html#usb-experiment"><span>Setting up your XPD acuisition objects</span></a> within our beamtime.</p>
<p>return to <a class="reference internal" href="xpdusers.html#xpdu"><span>XPD Users</span></a></p>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright (c) 2016 trustees of Columbia University in the City of New York.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>