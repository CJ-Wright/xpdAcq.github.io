

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview of the icollection+xpdacq environment &mdash; xpdAcq 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="xpdAcq 1.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> xpdAcq
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="beamlinestaff.html">Beamline Staff Only</a></li>
<li class="toctree-l1"><a class="reference internal" href="xpdusers.html">XPD Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">xpdAcq</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Overview of the icollection+xpdacq environment</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/sb_icollection.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview-of-the-icollection-xpdacq-environment">
<span id="sb-icollection"></span><h1>Overview of the icollection+xpdacq environment<a class="headerlink" href="#overview-of-the-icollection-xpdacq-environment" title="Permalink to this headline">¶</a></h1>
<p>All data collection at NSLS-II is carried out through a powerful
Python-software-language based interface which runs in an ipython interactive
session. By typing <code class="docutils literal"><span class="pre">icollection</span></code> at the unix prompt (command line) in a terminal
window at the XPD computer you begin an ipython session and preload an ipython
profile (called <code class="docutils literal"><span class="pre">collection</span></code>) that contains all the software to run the NSLS-II
data collection software.  You can tell when you are in the <code class="docutils literal"><span class="pre">collection</span></code> environment
because you will see <code class="docutils literal"><span class="pre">(collection)</span></code> at the beginning of the command-line.  When
you are not in the environment you won&#8217;t see that.</p>
<p>Inside this <code class="docutils literal"><span class="pre">collection</span></code> environment you can type commands that will control the
diffractometer, collect data, and also extract data from the NSLS-II database.
The NSLS-II data acquisition environment is powerful and flexible, but there is a
stiff learning curve to using it.  We have therefore added a layer on top that
is a package of programs called <code class="docutils literal"><span class="pre">xpdAcq</span></code> that are designed to make the data
acquisition at XPD easier and more robust for most people.  We strongly suggest
that you use the xpdacq functions as much as possible.</p>
<div class="section" id="nsls-ii-data-philosophy">
<h2>NSLS-II data philosophy<a class="headerlink" href="#nsls-ii-data-philosophy" title="Permalink to this headline">¶</a></h2>
<p>NSLS-II is committed to archiving all raw data, and making it available to
authorized users.  For this to succeed it is important to be able to find the
data when it is desired.  The basic philosophy at NSLS-II is therefore to
tag every dataset with unique-ID tags, and to save rich metadata with each saved
frame that can be searched on to find the data.  The <code class="docutils literal"><span class="pre">xpdAcq</span></code> package is designed
to make the user inputs easier when collecting data, and to facilitate the saving
of rich and correct metadata with the saved data for easier retrieval later.  It is
hoped that this will greatly speed up and facilitate users&#8217; later workflows.
You are reading the xpdAcq documentation.  Documentation for the NSLS-II data acquisition
package, &#8216;Bluesky&#8217; can be found <a class="reference external" href="http://nsls-ii.github.io/bluesky/">here</a>.</p>
</div>
<div class="section" id="xpdacq-philosophy">
<h2>xpdAcq philosophy<a class="headerlink" href="#xpdacq-philosophy" title="Permalink to this headline">¶</a></h2>
<p>Our goal is to maximize the quantity and quality of your metadata whilst minimizing
your typing.  To do this we separate the experimental workflow into a hierarchy
of activities and we associate metadata with each level of the hierarchy.  Each
level of the hierarchy will inherit the metadata in the higher levels of the
hierarchy for saving with the data.</p>
<dl class="docutils">
<dt>The hierarch is as follows:</dt>
<dd><ul class="first last">
<li><p class="first">Beamtime</p>
<blockquote>
<div><ul>
<li><p class="first">Experiment</p>
<blockquote>
<div><ul>
<li><p class="first">Sample</p>
<blockquote>
<div><ul>
<li><p class="first">Scan</p>
<blockquote>
<div><ul class="simple">
<li>Exposure</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
<p>where it is assumed that a <cite>Beamtime</cite> may consist of one or more <cite>experiments</cite>
(such as &#8220;temperature and doping dependence of In1-xGaxA&#8221;). Each experiment
will make measurements on one or more <cite>samples</cite> (in the example case the samples
may be GaAs, In0.25Ga0.75As, In0.5Ga0.5As, In 0.75Ga0.25As and InAs) and on each
sample we do one or more <cite>scans</cite> (for example a temperature scan from 100 K to 300 K)
which consist of one or more <cite>exposures</cite>.</p>
<p>When we are running the experiment we pretty much just want to be worrying about
setting up and running the scans, but to find the data later, and to help with
processing it (in the future the metadata will be passed directly to the data
reduction software) it is important that a complete stack of metadata is saved
with each scan.  The philosophy of the xpdAcq software is to accomplish this.</p>
<p>The way this is done is that we associate metadata with each level of the hierarchy
and levels that are lower in the hierarchy inherit the data from the higher levels.
Two required pieces of data at the Beamtime level are <code class="docutils literal"><span class="pre">PIlastName</span></code> and <code class="docutils literal"><span class="pre">SAF#</span></code>,
the last name of the PI in charge of the beamtime and the number of the safety
approval form for the experiment.  This information will be typed once, but saved
with every dataset during that beamtime.  You can create multiple <cite>instances</cite>
of each metadata level and these will be saved for later use.  So at the
beginning of the beamtime (or at home before you arrive using the xpdSim package)
you can create a <code class="docutils literal"><span class="pre">myGaAs</span></code> object, an <code class="docutils literal"><span class="pre">myIn25Ga75As</span></code>, and so on.  When you create
a scan you just have tell it that the sample is <code class="docutils literal"><span class="pre">myGaAs</span></code> and all the metadata
in myGaAs will automatically be saved with every exposure in that scan.  In <code class="docutils literal"><span class="pre">xpdAcq</span></code>
there are helpful functions for setting up these metadata libraries.  In the
future, a GUI is planned to facilitate this even further.</p>
<p>With this information in mind, please go ahead and start the step-by-step process
of setting up your beamtime in <a class="reference internal" href="usb_Beamtime.html#usb-beamtime"><span>Setting up your Beamtime</span></a></p>
<p>return to <a class="reference internal" href="xpdusers.html#xpdu"><span>XPD Users</span></a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright (c) 2016 trustees of Columbia University in the City of New York.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>