

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Where did all my Sample and Scan objects go????? &mdash; xpdAcq 0.3 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="xpdAcq 0.3 documentation" href="index.html"/>
        <link rel="up" title="XPD Users" href="xpdusers.html"/>
        <link rel="next" title="ScanPlan objects" href="usb_Scan.html"/>
        <link rel="prev" title="Setting up your XPD acuisition objects" href="usb_Experiment.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> xpdAcq
          

          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick start</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="xpdusers.html">XPD Users</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sb_overview.html">Overview of xpd acquisition environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="sb_icollection.html">Overview of the icollection+xpdacq environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="usb_Beamtime.html">Setting up your Beamtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="usb_Experiment.html">Setting up your XPD acuisition objects</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Where did all my Sample and Scan objects go?????</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bt-list-and-bt-get-are-your-friends">bt.list() and bt.get() are your friends</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bt-list-and-bt-get-gotchas">bt.list() and bt.get() Gotchas</a></li>
<li class="toctree-l2"><a class="reference internal" href="usb_Scan.html">ScanPlan objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="usb_Running.html">Running scans</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="beamlinestaff.html">Beamline Staff</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">xpdAcq</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="xpdusers.html">XPD Users</a> &raquo;</li>
      
    <li>Where did all my Sample and Scan objects go?????</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/usb_Where.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="where-did-all-my-sample-and-scan-objects-go">
<span id="usb-where"></span><h1>Where did all my Sample and Scan objects go?????<a class="headerlink" href="#where-did-all-my-sample-and-scan-objects-go" title="Permalink to this headline">¶</a></h1>
<p>You just spent hours typing in metadata and creating
<a class="reference internal" href="usb_Experiment.html#usb-experiment"><span class="std std-ref">sample</span></a> and <a class="reference internal" href="usb_Scan.html#usb-scan"><span class="std std-ref">scan</span></a>
objects, and now they have suddenly disappeared!  This
is a disaster!</p>
<p>As Douglas Adams taught us <cite>DON&#8217;T PANIC</cite> .  This is actually
<cite>normal</cite> (or at least <cite>expected</cite> ) behavior in xpdAcq.  Remember that
one of the design goals of the software project was to minimize
users&#8217; typing.  The design had to take into account that the
collection ipython environment is not so stable
(e.g., see <a class="reference internal" href="troubleshooting.html#troubleshooting"><span class="std std-ref">Troubleshooting</span></a> ) and we should expect periodic
restarts of it.  How bad if we had to retype our metadata every
time?  So every time you create an xpdAcq acquisition object,
the details are saved to a file on the local hard-drive.  When
<code class="docutils literal"><span class="pre">icollection</span></code> is run, the main <code class="docutils literal"><span class="pre">bt</span></code> object (if it exists) is
automatically reloaded, but not the other acquisition objects.
But don&#8217;t worry, they are all safe and sound.</p>
</div>
<div class="section" id="bt-list-and-bt-get-are-your-friends">
<span id="usb-bt-list"></span><h1>bt.list() and bt.get() are your friends<a class="headerlink" href="#bt-list-and-bt-get-are-your-friends" title="Permalink to this headline">¶</a></h1>
<p>To see what xpdAcquire acquisition objects you have available
to you, type <code class="docutils literal"><span class="pre">bt.list()</span></code> .  This lists the name and type of all
the acquisition objects that are on the hard-drive and available
to you....your objects: e.g.,</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">bt object bt has list index  0</span>
<span class="go">ex object InGaAsAlloyPD has list index  1</span>
<span class="go">ex object ProteinFolding has list index  2</span>
<span class="go">sa object GaAs has list index  3</span>
<span class="go">sa object IGA75-25 has list index  4</span>
<span class="go">sa object In0.25Ga0.75As has list index  5</span>
<span class="go">sa object InAs has list index  6</span>
<span class="go">sa object InGaAs-5050 has list index  7</span>
<span class="go">Use bt.get(index) to get the one you want</span>
</pre></div>
</div>
<p>so they are all there, and we can get them, but we can no longer refer to them by the
assignment we used when we created them (remember we used <code class="docutils literal"><span class="pre">s1</span></code> , <code class="docutils literal"><span class="pre">s2</span></code> and so on)</p>
<p>To get them we use <code class="docutils literal"><span class="pre">bt.get()</span></code> .  We can explicitly reload them again
or usually just use <code class="docutils literal"><span class="pre">bt.get(#)</span></code> where <code class="docutils literal"><span class="pre">#</span></code> is the list index (a number) as a  for example,
to refer to them directly. For example, consider the following sequence of code blocks:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span>
<span class="go">---------------------------------------------------------------------------</span>
<span class="go">NameError                                 Traceback (most recent call last)</span>
<span class="go">&lt;ipython-input-5-51081833a770&gt; in &lt;module&gt;()</span>
<span class="go">----&gt; 1 s1</span>

<span class="go">NameError: name &#39;s1&#39; is not defined</span>
</pre></div>
</div>
<p>Oh no, my <code class="docutils literal"><span class="pre">s1</span></code> sample object, which as my sample named <cite>GaAs</cite> , has disappeared!  <code class="docutils literal"><span class="pre">bt.list()</span></code> to the rescue...</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">bt object bt has list index  0</span>
<span class="go">ex object InGaAsAlloyPD has list index  1</span>
<span class="go">ex object ProteinFolding has list index  2</span>
<span class="go">sa object GaAs has list index  3</span>
<span class="go">sa object IGA75-25 has list index  4</span>
<span class="go">sa object In0.25Ga0.75As has list index  5</span>
<span class="go">sa object InAs has list index  6</span>
<span class="go">sa object InGaAs-5050 has list index  7</span>
<span class="go">Use bt.get(index) to get the one you want</span>
</pre></div>
</div>
<p>That&#8217;s it with a list index of 3, the <code class="docutils literal"><span class="pre">sa</span></code> sample type object called <code class="docutils literal"><span class="pre">GaAs</span></code> .
Just to be sane, let&#8217;s reload it. We can give it any name, it doesn&#8217;t have to be
the same name as last time, so let&#8217;s reload it as <code class="docutils literal"><span class="pre">s1_again</span></code> :</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s1_again</span> <span class="o">=</span> <span class="n">bt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1_again</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;GaAs&#39;</span>
</pre></div>
</div>
<p>As you get used to this, you will realize that you don&#8217;t actually have to reload
it at all, and can just refer directly to it.  For example, type <code class="docutils literal"><span class="pre">bt.get(3).md</span></code>
and see what you get</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">md</span>
<span class="go">{&#39;bt_experimenters&#39;: {(&#39;Chia-Hao&#39;, &#39;Liu&#39;), (&#39;Simon&#39;, &#39;Billinge&#39;)},</span>
<span class="go"> &#39;bt_piLast&#39;: &#39;Billinge&#39;,</span>
<span class="go"> &#39;bt_safN&#39;: 300256,</span>
<span class="go"> &#39;bt_uid&#39;: &#39;9b0c5878-cba4-11e5-8984-28b2bd4521c0&#39;,</span>
<span class="go"> &#39;bt_wavelength&#39;: 0.1818,</span>
<span class="go"> &#39;ex_name&#39;: &#39;ProteinFolding&#39;,</span>
<span class="go"> &#39;ex_uid&#39;: &#39;c89120dc-cbc8-11e5-ac9b-28b2bd4521c0&#39;,</span>
<span class="go"> &#39;sa_name&#39;: &#39;GaAs&#39;,</span>
<span class="go"> &#39;sa_uid&#39;: &#39;7c6f5fc6-cbca-11e5-bec0-28b2bd4521c0&#39;}</span>
</pre></div>
</div>
<p>You see that <code class="docutils literal"><span class="pre">bt.get(#)</span></code> acts exactly like (in fact it <cite>is</cite> ) the <code class="docutils literal"><span class="pre">#</span></code> th object
in the list returned by <code class="docutils literal"><span class="pre">bt.list()</span></code> . And it persists for your entire beamtime,
even if you hang up the entire software and have to have it restarted by one of the
IT guys.</p>
<p>Just remember.  First type <code class="docutils literal"><span class="pre">bt.list()</span></code> to locate the object you want, then type
<code class="docutils literal"><span class="pre">bt.get(#)</span></code> to get it.  Don&#8217;t forget the <code class="docutils literal"><span class="pre">bt.list()</span></code> first because your object
may change its position in the list over time.</p>
<p>A little hint too.  If it is late in your beamtime and you have hundreds of those objects, you can
select to list them by type, e.g. if you just want the Sample (<code class="docutils literal"><span class="pre">sa</span></code> ) type objects then
type <code class="docutils literal"><span class="pre">bt.list('sa')</span></code> :</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bt</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="s1">&#39;sa&#39;</span><span class="p">)</span>
<span class="go">sa object GaAs has list index  3</span>
<span class="go">sa object IGA75-25 has list index  4</span>
<span class="go">sa object In0.25Ga0.75As has list index  5</span>
<span class="go">sa object InAs has list index  6</span>
<span class="go">sa object InGaAs-5050 has list index  7</span>
<span class="go">Use bt.get(index) to get the one you want</span>
</pre></div>
</div>
<p>Make sure to refer to that object by the written index number and not where you see it on the returned list!</p>
</div>
<div class="section" id="bt-list-and-bt-get-gotchas">
<span id="usb-gotchas"></span><h1>bt.list() and bt.get() Gotchas<a class="headerlink" href="#bt-list-and-bt-get-gotchas" title="Permalink to this headline">¶</a></h1>
<p>Once you get used to this design we hope you will like it, but there are a
couple of important <cite>Gotchas</cite> that you should bear in mind that could lead to
confusion until you get used to them.</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">If you create a <cite>new</cite> object with the same type and name as an existing one, the existing one will be <strong>OVERWRITTEN</strong> by the new one!  You will lose the old one forever.</p>
<p>This is actually a feature of the code (we want each object to be unique and the only thing that makes it unique from one <code class="docutils literal"><span class="pre">collection</span></code> session to the next is its name and type). But please be careful about your naming! Why is it a feature?  You can use this to update an object by redefining it with the same name.</p>
</li>
<li><p class="first">Objects may change their position in the <code class="docutils literal"><span class="pre">bt.list()</span></code> as new objects are created.  Just because the object you want was in position <code class="docutils literal"><span class="pre">4</span></code> before, doesn&#8217;t mean it will be now. <strong>So get used to always typing</strong> <code class="docutils literal"><span class="pre">bt.list()</span></code> <strong>FIRST then</strong> <code class="docutils literal"><span class="pre">bt.get()</span></code> .</p>
</li>
<li><p class="first">At the time of writing, our xpdacq objects incorporate metadata from higher in the stack (e.g., Sample inheriting Experiment metadata) statically at the time they are created.  If you update information higher in the stack, for example, add some experiment information, the new information will only appear in objects created (or updated by reinstantiating) after this upstream change.  We hope to fix this in the future.</p>
</li>
</ol>
</div></blockquote>
<p>go to <a class="reference internal" href="usb_Scan.html#usb-scan"><span class="std std-ref">ScanPlan objects</span></a></p>
<p>go to <a class="reference internal" href="usb_Running.html#usb-running"><span class="std std-ref">Running scans</span></a></p>
<p>return to <a class="reference internal" href="xpdusers.html#xpdu"><span class="std std-ref">XPD Users</span></a></p>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="usb_Scan.html" class="btn btn-neutral float-right" title="ScanPlan objects" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="usb_Experiment.html" class="btn btn-neutral" title="Setting up your XPD acuisition objects" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright (c) 2016 trustees of Columbia University in the City of New York.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>